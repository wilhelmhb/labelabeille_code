<meta http-equiv="Access-Control-Allow-Origin" content="*">


<script type="text/html" id="tpl-historique">

{{#notes}}
<div class="elt_histo histo_{{note.data.level}}" id="histo_{{index}}" onclick="details_histo({{index}});">
    <img src="img/histo_fleche_droite.png" class="fleche" id="fleche_{{index}}"/>
    <img src="img/histo_supprimer.png" class="supprimer" onclick="supprimer_histo({{note.id}}{{#note.id_default_note}}, true{{/note.id_default_note}}{{#note.id_custom_note}}, false{{/note.id_custom_note}},{{index}});"/>
    <div class="elt_histo_titre">{{note.data.name}}</div>
    <div class="elt_histo_date">{{note.date_add}}</div>
</div>
<div class="details_histo" id="details_histo_{{index}}" style="display:none;">
    <h1>{{note.data.message}}</h1>
	{{#note.infos}}
    <p>{{.}}</p>
	{{/note.infos}}
</div>
{{/notes}}
</script>
<script type="text/html" id="tpl-ajoutnote">
    <div id="sous_titre_ajoutnote" class="sous_titre">
        <h1></h1>
        <div style="clear:both;"></div>
    </div>
    <div class="contenu">

        <h1>Notes prédéfinies</h1>
        <div align="center">
        {{#default_notes}}
	    <form class="formulaire" id="{{id}}" type="default">
	        <input type="submit" class="histo_{{level}}" value="{{name}} : {{message}}" />
	    </form>
        {{/default_notes}}
        <h1>Notes personnalisées</h1>
        {{#custom_notes}}
	    <form class="formulaire" id="{{id}}" type="custom">
	        <input type="submit" class="histo_{{level}}" value="{{name}} : {{message}}" /><img id="dlcn{{id}}" class="dlcnote" src="img/histo_supprimer2.png" style="width:20px;height:20px;"/>
	    </form>
        {{/custom_notes}}
        <div class="bouton" id="add_custom_note"><span>Nouvelle note</span></div>
        </div>
    </div>
</script>
<script type="text/html" id="tpl-accueil">
    
                <div id="sous_titre_accueil" class="sous_titre">
                <span id="nav_gauche_rucher" class="nav_gauche"><</span>
                    <span id="nav_droite_rucher" class="nav_droite">></span>
                    <h1></h1>
                    <div style="clear:both;"></div>
                </div>
                <div id="bas_defilement_gris"></div>
                <div id="conteneur-rucher"></div>
                <div id="reserve-ruchers">
                <div id="nouveaurucher" class="page">
                    <div class="contenu">
                    <form class="formulaire" id="form-create-hive-group">
                    <div>
                    <label for="apibundle_pshivegroup_name">Nom<span style="color: red">*</span></label>
                    <input   type="text" id="apibundle_pshivegroup_name" name="apibundle_pshivegroup[name]" maxlength="64" />
                    </div>
                    <div style="display:none;">
                    <label for="apibundle_pshivegroup_harvest" class="required">Récolte<span style="color: red">*</span></label>
                    <input type="number" id="apibundle_pshivegroup_harvest" value="0" name="apibundle_pshivegroup[harvest]" required="required" />
                    </div>
                    <div class="bouton"><span>CREER</span></div>
                    </form>
                    <div style="clear:left;"></div>
                    </div>
                
                
                </div>
                {{#hivegroups}}
                    <div id="rucher{{index}}" class="page">
                    <div class="ruches">
                        <div id="ruche0"  class="ruche" style="visibility:hidden;">
                            <div class="fond_ruche_grise"></div>
                            <div class="fond_ruche_selectionnee"></div>
                            <div class="ruche_contenu">
                                <div class="sizing"></div>
                                <div class="ruche_grise">
                                    <h1></h1>
                                    <h2></h2>
                                </div>
                                <div style="clear:left;"></div>
                            </div>
                        </div>

                        {{#hives}}
                        <div id="ruche{{indexhg}}_{{index}}"  class="ruche">
                            <div class="fond_ruche_grise"></div>
                            <div class="fond_ruche_selectionnee"></div>
                            <div class="ruche_contenu">
                                <div class="sizing"></div>
                                <div class="ruche_selectionnee">
                                    <h1>{{name}}</h1>
                                    <img src="img/reglages.png" id="ruche{{indexhg}}_{{index}}_selectionnee_reglages" class="ruche_selectionnee_reglages"/>
                                    <img src="img/supprimer.png" id="ruche{{indexhg}}_{{index}}_selectionnee_supprimer" class="ruche_selectionnee_supprimer"/>
                                    <img src="img/courbes.png" id="ruche{{indexhg}}_{{index}}_selectionnee_courbes" class="ruche_selectionnee_courbes"/>
                                    <img src="img/historique.png" id="ruche{{indexhg}}_{{index}}_selectionnee_historique" class="ruche_selectionnee_historique"/>
                                    <div class="ruche_selectionnee_infos">
                                        <p>Orientation : {{data.ORICARD}}</p>
                                        <p>Masse ruche : {{data.MASSE.v}}{{data.MASSE.u}}</p>
                                        <p>Température : {{data.TMP.v}}{{data.TMP.u}}</p>
                                        <p>Humidité : {{data.HUM.v}}{{data.HUM.u}}</p>
                                        <p>Luminosité : {{data.LUM.v}}{{data.LUM.u}}</p>
                                    </div>
                                </div>
                                <div class="ruche_grise">
                                    <h1>{{name}}</h1>
                                    <h2>[{{id_hive}}]</h2>
                                </div>
                                <div style="clear:left;"></div>
                            </div>
                        </div>
                        {{/hives}}
                        <div id="ruche{{index}}plus" class="rucheplus">
                            <div class="sizing"></div>
                        </div>
                        <div id="rucheselect" style="width:100%;visibility:hidden;" class="ruche">
                        <div class="fond_ruche_grise"></div>
                        <div class="fond_ruche_selectionnee"></div>
                        <div class="ruche_contenu">
                        <div class="sizing"></div>
                        <div class="ruche_selectionnee">
                        <h1>ruche select</h1>
                        <img src="img/reglages.png" class="ruche_selectionnee_reglages"/>
                        <img src="img/supprimer.png" class="ruche_selectionnee_supprimer"/>
                        <img src="img/courbes.png" class="ruche_selectionnee_courbes"/>
                        <img src="img/historique.png" class="ruche_selectionnee_historique"/>
                        <div class="ruche_selectionnee_infos"></div>
                        </div>
                        <div class="ruche_grise">
                        <h1></h1>
                        <h2></h2>
                        </div>
                        <div style="clear:left;"></div>
                        </div>
                        </div>
                    </div>
                    </div>
                {{/hivegroups}}
                
                </div>
                </div>
                <div style="clear:both;"></div>
                
</script>



<script type="text/html" id="tpl-courbes">
    
    <div id="sous_titre_courbes" class="sous_titre">
        <span id="nav_gauche_courbes" class="nav_gauche"><</span>
        <span id="nav_droite_courbes" class="nav_droite">></span>
        <h1></h1>
        <div style="clear:both;"></div>
    </div>
    <div id="bas_defilement_gris"></div>
    <div id="conteneur-courbe"></div>
    <div id="reserve-courbes">
    {{#courbes}}
        <div id="courbe{{id}}" class="page">
            <div class="courbe">
                <canvas id="canvas{{id}}" class="canvas"></canvas>
            </div>
        </div>
    {{/courbes}}
    </div>
    </script>

<script type="text/html" id="tpl-details">
	<div class="sous_titre">
		<span class="nav_gauche"></span>
		<span class="nav_droite"></span>
		<h1>{{name}} <span></span></h1>
	</div>
	<div id="details-content" class="contenu">
		<div id="menudetails">
			<img id="courbesDetails" src="img/details/courbes.png" alt="Courbes" />
			<img id="historiqueDetails" src="img/details/historique.png" class="milieu" alt="Historique" />
			<img id="parametresDetails" src="img/details/parametres.png" alt="Param&egrave;tres" />
		</div>
		<div id="details">
			<div class="sizing"></div>
			<div id="bloc1">
				<h1>Informations</h1>
                <p>Rucher : {{name_hive_group}}</p>
                <p>Transmission : {{data.TRANSMISSION}}</p>
				<p>Orientation : {{data.ORICARD}}</p>
			</div>
			<div id="bloc2">
				<h1>Miel</h1>
                <p>Derni&egrave;re r&eacute;colte : {{recolte.v}} {{recolte.u}} le {{recolte.h}}</p>
				<p>Estimation miel : {{miel.v}} {{miel.u}}</p>
			</div>
			<div id="bloc3">
				<h1>Atmosph&egrave;re</h1>
				<p>Temp&eacute;rature : {{data.TMP.v}}{{data.TMP.u}}</p>
				<p>Humidit&eacute; : {{data.HUM.v}} {{data.HUM.u}}</p>
                <p>Pression : {{data.PRESSION.v}} {{data.PRESSION.u}}</p>
                <p>Luminosit&eacute; : {{data.LUM.v}} {{data.LUM.u}}</p>
            </div>
			<div id="bloc4">
				<h1>Masse</h1>
				<p>Essaim : {{essaim.v}} {{essaim.u}}</p>
				<p>Ruche : {{data.MASSE.v}} {{data.MASSE.u}}</p>
			</div>
		</div>					
	</div>
</script>
<script type="text/html" id="tpl-params-generaux">
        <form class="formulaire" id="form-params-generaux" method="POST">
            <span style="color: red">*</span>Champ obligatoire<div style="width:10px;height:10px;"></div>
            <div id="apibundle_pscustomer">
                <div>
                    <label for="apibundle_pscustomer_firstname" class="required">Prénom<span style="color: red">*</span></label>
                        <input   type="text" id="apibundle_pscustomer_firstname" name="apibundle_pscustomer[firstname]" value="{{ firstname }}" maxlength="32" />
                </div>
                <div>
                    <label for="apibundle_pscustomer_lastname" class="required">Nom<span style="color: red">*</span></label>
                        <input   type="text" id="apibundle_pscustomer_lastname" name="apibundle_pscustomer[lastname]" value="{{ lastname }}" maxlength="32" />
                </div>
                <div>
                    <label for="apibundle_pscustomer_email" class="required">Email<span style="color: red">*</span></label>
                        <input   type="text" id="apibundle_pscustomer_email" name="apibundle_pscustomer[email]" value="{{ email }}" maxlength="128" />
                </div>
                <div>
                    <label for="apibundle_pscustomer_password" class="required">Mot de passe<span style="color: red">*</span></label>
                        <input   type="password" id="apibundle_pscustomer_password" name="apibundle_pscustomer[password]" maxlength="32" />
                </div>
            </div>
                <div class="bouton"><span>MODIFIER</span></div>
                <br />
                <div id="deconnexion" class="bouton2" style="text-align:center;clear:none;font-weight:bold;" >DECONNEXION</div>
                <div id="desinscription" class="bouton2" style="text-align:center;clear:none;background-color:white;color:black;">Me désinscrire</div>

    </form>
</script>
<script type="text/html" id="tpl-params-rucher">
    <form class="formulaire" method="POST" id="form-params-ruchers">
        <div id="apibundle_pshivegroup">
            <span style="color: red">*</span>Champ obligatoire<div style="width:10px;height:10px;"></div>
            <!--<div>
                <label for="apibundle_pshivegroup_idClient" class="required">Id client</label>-->
                    <!--<input type="hidden" id="apibundle_pshivegroup_idClient" name="apibundle_pshivegroup[idClient]" value="" />
            <!--</div>-->
            <div>
                <label for="apibundle_pshivegroup_name">Nom<span style="color: red">*</span></label>
                    <input   type="text" id="apibundle_pshivegroup_name" name="apibundle_pshivegroup[name]" value="{{name}}" maxlength="64" />
                    <div class="cl"></div>
            </div>
            <!--<div>
                <label for="apibundle_pshivegroup_note">Note</label>
                    <textarea id="apibundle_pshivegroup_note" name="apibundle_pshivegroup[note]" maxlength="65535"></textarea>
            </div>-->
            <div>
                <label for="apibundle_pshivegroup_harvest" class="required">Récolte (kg)<span style="color: red">*</span></label>
                    <input type="number" id="apibundle_pshivegroup_harvest" name="apibundle_pshivegroup[harvest]" value="{{harvest}}" required="required" />
                    <div class="cl"></div>

            </div>
            <!--<div>
                <label for="apibundle_pshivegroup_notes">Notes</label>
                    <textarea id="apibundle_pshivegroup_notes" name="apibundle_pshivegroup[notes]" maxlength="65535"></textarea>
            </div>-->
        </div>
        <div class="bouton"><span>VALIDER</span></div>
        <br />
        <div id="supprimer_rucher" class="bouton2" style="text-align:center;clear:none;" >Supprimer ce rucher</div>
    </form>
</script>
<script type="text/html" id="tpl-params-ruche">
    <div id="goToSeuils" class="bouton2" style="text-align:center;clear:none;" >Notifications</div>

    <form class="formulaire" id="form-params-hive" >
        <span style="color: red">*</span>Champ obligatoire<div style="width:10px;height:10px;"></div>
        <div id="apibundle_pshive">
            <!--<div>
                <label for="apibundle_pshive_idClient" class="required">Id client</label>
                    <input type="hidden" id="apibundle_pshive_idClient" name="apibundle_pshive[idClient]"/>
            </div>-->
            <div>
                <label for="apibundle_pshive_name">Nom<span style="color: red">*</span></label>
                <input   type="text" value="{{ hive.name }}" id="apibundle_pshive_name" name="apibundle_pshive[name]" maxlength="64" />
                <div class="cl"></div>

            </div>
            <!--<div>
                <label for="apibundle_pshive_note">Note</label>
                    <textarea id="apibundle_pshive_note" name="apibundle_pshive[note]" maxlength="65535"></textarea>
                    </div>-->
            <!--<div>
                <label for="apibundle_pshive_latitude">Latitude</label>
                    <input   type="text" id="apibundle_pshive_latitude" value="{{ hive.latitude }}" name="apibundle_pshive[latitude]" />
                    <div class="cl"></div>

            </div>
            <div>
                <label for="apibundle_pshive_longitude">Longitude</label>
                    <input   type="text" id="apibundle_pshive_longitude" value="{{ hive.longitude }}" name="apibundle_pshive[longitude]" />
            </div>-->
            <div>
                <label for="apibundle_pshive_hivegroup">Rucher<span style="color: red">*</span></label>
                    <select type="text" id="apibundle_pshive_hivegroup" name="apibundle_pshive[idHiveGroup]">
                        {{#hivegroups}}
                        <option value="{{ id_hive_group }}" {{#isHiveGroup}}selected{{/isHiveGroup}}>{{ name }}</option>
                        {{/hivegroups}}
                    </select>
            </div>
            <div class="cl"></div>
            <!--<div>
                <label for="apibundle_pshive_active">En activité</label>
                    <input type="checkbox" id="apibundle_pshive_active" name="apibundle_pshive[active]" checked="{{ hive.active }}"/>
            </div>-->
            <div>
                <label for="apibundle_pshive_hiveType">Type de ruche</label>
                    <select value="{{ hive.hive_type }}" id="apibundle_pshive_hiveType" name="apibundle_pshive[hiveType]">
                        {{#hiveType}}
                        <option value="{{ v }}" {{#isType}}selected{{/isType}}>{{ name }}</option>
                        {{/hiveType}}
                    </select>
            </div>
            <div>
                <label for="apibundle_pshive_beesType">Espèce d'abeilles</label>
                    <select value="{{ hive.bees_type }}" id="apibundle_pshive_beesType" name="apibundle_pshive[beesType]">
                        {{#beeType}}
                        <option value="{{ v }}" {{#isType}}selected{{/isType}}>{{ name }}</option>
                        {{/beeType}}
                    </select>
            </div>
            <div>
                <label for="apibundle_pshive_material">Type de matériau</label>
                    <select value="{{ hive.material }}" id="apibundle_pshive_material" name="apibundle_pshive[material]">
                        {{#materialType}}
                        <option value="{{ v }}" {{#isType}}selected{{/isType}}>{{ name }}</option>
                        {{/materialType}}
                    </select>
            </div>
            <div>
                <label for="apibundle_pshive_support">Type de support</label>
                    <select value="{{ hive.support }}" id="apibundle_pshive_support" name="apibundle_pshive[support]">
                        {{#supportType}}
                        <option value="{{ v }}" {{#isType}}selected{{/isType}}>{{ name }}</option>
                        {{/supportType}}
                    </select>
            </div>
            <div>
                <label for="apibundle_pshive_state">État</label>
                    <select value="{{ hive.state }}" id="apibundle_pshive_state" name="apibundle_pshive[state]">
                        {{#state}}
                        <option value="{{ v }}" {{#isState}}selected{{/isState}}>{{ name }}</option>
                        {{/state}}
                    </select>
            </div>
            <div>
                <label for="apibundle_pshive_harvest" class="required">Récolte (kg)<span style="color: red">*</span></label>
                    <input type="number" id="apibundle_pshive_harvest" value="{{ hive.harvest }}" name="apibundle_pshive[harvest]" required="required" min="0" max="100" />
            </div>
            <!--<div>
                <label for="apibundle_pshive_notes">Notes</label>
                	<textarea id="apibundle_pshive_notes" name="apibundle_pshive[notes]" maxlength="65535"></textarea>
            </div>-->
            <div>
                <label for="apibundle_pshive_date_installation">Date d'installation</label>
                	<input type="number" id="apibundle_pshive_date_installation" value="{{ hive.date_install }}" name="apibundle_pshive[dateInstall]" min="1990" max="2025" step=1 />
            </div>
            <div>
                <label for="apibundle_pshive_numero_serie">Numéro de série du boîtier</label>
                	<input type="text" id="apibundle_pshive_numero_serie" value="{{ hive.data.serialNumber }}" name="apibundle_pshive[numero_serie]" />
            </div>
        <div class="bouton"><span>VALIDER</span></div>
    </form>
</script>
<script type="text/html" id="tpl-params-ruche-seuils">
    <form class="formulaire" action="" method="POST" id="form-params-hive-seuils" >
        <div id="seuils">
            {{#seuils}}
            <div>
            <label for="{{ nom }}">{{ description }} ({{unite}}) : </label>
                <input  onfocus="if(this.value=='0.0')this.value=''" onblur="if(this.value=='')this.value='0.0'" type="text" value="{{ v }}" id="{{ nom }}" name="params[{{ nom }}]" maxlength="64" size="6" />
            </div>
	        {{/seuils}}
            <div class="bouton"><span>VALIDER</span></div>
        </div>
    </form>
</script>
